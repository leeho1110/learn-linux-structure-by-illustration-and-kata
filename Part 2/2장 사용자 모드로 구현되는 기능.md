# 2장: 사용자 모드로 구현되는 기능

### 개요

이번 장에서는 유저 모드에서 사용되는 프로그램에 대해서 알아봅니다.

---

### 시스템 콜(System call)

- 아래는 리눅스의 유저 모드 프로세스에서 호출할 수 있는 시스템 콜의 종류입니다.
    - 프로세스 생성, 삭제
    - 메모리 확보, 해제
    - 프로세스 간 통신(IPC)
    - 네트워크
    - 파일시스템 다루기
    - 파일 다루기(디바이스 접근)
- 유저 모드가 위와 같은 시스템 콜을 호출하면 CPU에서는 이를 **인터럽트 이벤트**로 인식합니다. 인터럽트란 ‘방해'라는 뜻인데요. CPU 클럭 싸이클이 잘 돌던 와중에 갑자기 새로운 이벤트가 끼어들어서 인터럽트라는 단어를 사용한게 아닐까? 추측해봅니다.
    - 이 때 시스템 콜을 받은 CPU는 잠시 커널 모드로 전환되어 커널이 해당 요청들을 처리합니다.
        - 프로세스가 호출했던 시스템 콜을 보고 싶다면 `strace` 명령어를 사용합니다.
        - 사용자 모드 혹은 커널 모드의 실행 비율을 알고 싶다면 `sar` (System Activity Reporter) 명령어를 사용합니다.
    - 시스템 콜은 프로그래밍 언어에서는 호출이 불가능하기 때문에 어셈블리어로 직접 호출해야 합니다. 이는 여러 언어로부터 어셈블리 코드를 추출하는 과정이 없다면 수행될 수 없습니다. 따라서 OS는 시스템 콜을 호출하는 전담하는 함수를 만들어 제공합니다. 이를 **시스템 콜 래퍼(System Call Wrapper)** 라고 부릅니다.
- 리눅스는 C언어에서 사용하는 표준 라이브러리 glibc(GNU C Library)를 제공받습니다.